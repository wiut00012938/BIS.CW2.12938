<Cube xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ddl2="http://schemas.microsoft.com/analysisservices/2003/engine/2" xmlns:ddl2_2="http://schemas.microsoft.com/analysisservices/2003/engine/2/2" xmlns:ddl100_100="http://schemas.microsoft.com/analysisservices/2008/engine/100/100" xmlns:ddl200="http://schemas.microsoft.com/analysisservices/2010/engine/200" xmlns:ddl200_200="http://schemas.microsoft.com/analysisservices/2010/engine/200/200" xmlns:ddl300="http://schemas.microsoft.com/analysisservices/2011/engine/300" xmlns:ddl300_300="http://schemas.microsoft.com/analysisservices/2011/engine/300/300" xmlns:ddl400="http://schemas.microsoft.com/analysisservices/2012/engine/400" xmlns:ddl400_400="http://schemas.microsoft.com/analysisservices/2012/engine/400/400" xmlns:ddl500="http://schemas.microsoft.com/analysisservices/2013/engine/500" xmlns:ddl500_500="http://schemas.microsoft.com/analysisservices/2013/engine/500/500" xmlns:dwd="http://schemas.microsoft.com/DataWarehouse/Designer/1.0" dwd:design-time-name="72e871ed-beaa-4b3f-9749-d6dc51c07393" xmlns="http://schemas.microsoft.com/analysisservices/2003/engine">
  <ID>SalesBySegment</ID>
  <Name>SalesBySegment</Name>
  <CreatedTimestamp>0001-01-01T00:00:00Z</CreatedTimestamp>
  <LastSchemaUpdate>0001-01-01T00:00:00Z</LastSchemaUpdate>
  <Annotations>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:DiagramLayout</Name>
      <Value>
        <dds xmlns="">
          <diagram fontclsid="{0BE35203-8F91-11CE-9DE3-00AA004BB851}" mouseiconclsid="{0BE35204-8F91-11CE-9DE3-00AA004BB851}" defaultlayout="MSDDS.Rectilinear" defaultlineroute="MSDDS.Rectilinear" version="7" nextobject="12" scale="100" pagebreakanchorx="0" pagebreakanchory="0" pagebreaksizex="0" pagebreaksizey="0" scrollleft="-6493" scrolltop="-493" gridx="150" gridy="150" marginx="5000" marginy="5000" zoom="100" x="22410" y="12912" backcolor="16777215" defaultpersistence="2" PrintPageNumbersMode="3" PrintMarginTop="0" PrintMarginBottom="635" PrintMarginLeft="0" PrintMarginRight="0" marqueeselectionmode="0" mousepointer="0" snaptogrid="0" autotypeannotation="1" showscrollbars="0" viewpagebreaks="0" donotforceconnectorsbehindshapes="1" backpictureclsid="{00000000-0000-0000-0000-000000000000}">
            <font>
              <ddsxmlobjectstreamwrapper binary="01cc0000900144420100065461686f6d61" />
            </font>
            <mouseicon>
              <ddsxmlobjectstreamwrapper binary="6c74000000000000" />
            </mouseicon>
          </diagram>
          <layoutmanager>
            <ddsxmlobj />
          </layoutmanager>
          <ddscontrol controlprogid="DdsShapes.DdsObjectManagedBridge" tooltip="DateDim" left="5542" top="1" logicalid="6" controlid="1" masterid="0" hint1="0" hint2="0" width="3413" height="5000" noresize="0" nomove="0" nodefaultattachpoints="0" autodrag="1" usedefaultiddshape="1" selectable="1" showselectionhandles="1" allownudging="1" isannotation="0" dontautolayout="0" groupcollapsed="0" tabstop="1" visible="1" snaptogrid="0">
            <control>
              <ddsxmlobjectstreaminitwrapper binary="000e0000550d000088130000" />
            </control>
            <layoutobject>
              <ddsxmlobj>
                <property name="LogicalObject" value="dbo_DateDim" vartype="8" />
              </ddsxmlobj>
            </layoutobject>
            <shape groupshapeid="0" groupnode="0" />
          </ddscontrol>
          <ddscontrol controlprogid="DdsShapes.DdsObjectManagedBridge" tooltip="SalesByDateFact" left="142" top="926" logicalid="7" controlid="2" masterid="0" hint1="0" hint2="0" width="3000" height="3149" noresize="0" nomove="0" nodefaultattachpoints="0" autodrag="1" usedefaultiddshape="1" selectable="1" showselectionhandles="1" allownudging="1" isannotation="0" dontautolayout="0" groupcollapsed="0" tabstop="1" visible="1" snaptogrid="0">
            <control>
              <ddsxmlobjectstreaminitwrapper binary="000e0000b80b00004d0c0000" />
            </control>
            <layoutobject>
              <ddsxmlobj>
                <property name="LogicalObject" value="SalesByDateFact" vartype="8" />
              </ddsxmlobj>
            </layoutobject>
            <shape groupshapeid="0" groupnode="0" />
          </ddscontrol>
          <ddscontrol controlprogid="DdsShapes.DdsObjectManagedBridge" tooltip="CustomerDim" left="20" top="6475" logicalid="8" controlid="3" masterid="0" hint1="0" hint2="0" width="3122" height="5000" noresize="0" nomove="0" nodefaultattachpoints="0" autodrag="1" usedefaultiddshape="1" selectable="1" showselectionhandles="1" allownudging="1" isannotation="0" dontautolayout="0" groupcollapsed="0" tabstop="1" visible="1" snaptogrid="0">
            <control>
              <ddsxmlobjectstreaminitwrapper binary="000e0000320c000088130000" />
            </control>
            <layoutobject>
              <ddsxmlobj>
                <property name="LogicalObject" value="dbo_CustomerDim" vartype="8" />
              </ddsxmlobj>
            </layoutobject>
            <shape groupshapeid="0" groupnode="0" />
          </ddscontrol>
          <ddscontrol controlprogid="MSDDS.Polyline.080.1" left="2842" top="2102" logicalid="9" controlid="4" masterid="0" hint1="0" hint2="0" width="3000" height="799" noresize="0" nomove="0" nodefaultattachpoints="1" autodrag="0" usedefaultiddshape="0" selectable="1" showselectionhandles="0" allownudging="1" isannotation="0" dontautolayout="0" groupcollapsed="0" tabstop="1" visible="1" snaptogrid="0">
            <control>
              <ddsxmlobj>
                <polyline endtypedst="6" endtypesrc="3" usercolor="0" linestyle="0" linerender="1" customendtypedstid="0" customendtypesrcid="0" adornsvisible="1" />
              </ddsxmlobj>
            </control>
            <layoutobject>
              <ddsxmlobj>
                <property name="LogicalObject" value="dataSet.Relations[SalesByDateFact-DateDim]" vartype="8" />
                <property name="Virtual" value="0" vartype="11" />
                <property name="VisibleAP" value="0" vartype="3" />
              </ddsxmlobj>
            </layoutobject>
            <connector lineroutestyle="MSDDS.Rectilinear" sourceid="1" destid="2" sourceattachpoint="18" destattachpoint="15" segmenteditmode="0" bendpointeditmode="0" bendpointvisibility="0" relatedid="0" virtual="0">
              <point x="5542" y="2501" />
              <point x="4342" y="2501" />
              <point x="4342" y="2500" />
              <point x="3142" y="2500" />
            </connector>
          </ddscontrol>
          <ddscontrol controlprogid="MSDDS.Polyline.080.1" left="1182" top="3775" logicalid="10" controlid="5" masterid="0" hint1="0" hint2="0" width="799" height="3200" noresize="0" nomove="0" nodefaultattachpoints="1" autodrag="0" usedefaultiddshape="0" selectable="1" showselectionhandles="0" allownudging="1" isannotation="0" dontautolayout="0" groupcollapsed="0" tabstop="1" visible="1" snaptogrid="0">
            <control>
              <ddsxmlobj>
                <polyline endtypedst="6" endtypesrc="3" usercolor="0" linestyle="0" linerender="1" customendtypedstid="0" customendtypesrcid="0" adornsvisible="1" />
              </ddsxmlobj>
            </control>
            <layoutobject>
              <ddsxmlobj>
                <property name="LogicalObject" value="dataSet.Relations[SalesByDateFact-CustomerDim]" vartype="8" />
                <property name="Virtual" value="0" vartype="11" />
                <property name="VisibleAP" value="0" vartype="3" />
              </ddsxmlobj>
            </layoutobject>
            <connector lineroutestyle="MSDDS.Rectilinear" sourceid="3" destid="2" sourceattachpoint="4" destattachpoint="5" segmenteditmode="0" bendpointeditmode="0" bendpointvisibility="0" relatedid="0" virtual="0">
              <point x="1581" y="6475" />
              <point x="1581" y="5275" />
              <point x="1642" y="5275" />
              <point x="1642" y="4075" />
            </connector>
          </ddscontrol>
        </dds>
      </Value>
    </Annotation>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:ShowFriendlyNames</Name>
      <Value>true</Value>
    </Annotation>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:ShowRelationshipNames</Name>
      <Value>false</Value>
    </Annotation>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:UseDiagramDefaultLayout</Name>
      <Value>true</Value>
    </Annotation>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:DiagramViewPortLeft</Name>
      <Value>-6493</Value>
    </Annotation>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:DiagramViewPortTop</Name>
      <Value>-493</Value>
    </Annotation>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:DiagramBoundingLeft</Name>
      <Value>20</Value>
    </Annotation>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:DiagramBoundingTop</Name>
      <Value>1</Value>
    </Annotation>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:DiagramZoom</Name>
      <Value>100</Value>
    </Annotation>
  </Annotations>
  <LastProcessed>0001-01-01T00:00:00Z</LastProcessed>
  <State>Unprocessed</State>
  <Dimensions>
    <Dimension dwd:design-time-name="d5a4ca83-e2a3-482a-bee2-fd7ed2d24152">
      <ID>Date Dim</ID>
      <Name>Date Dim</Name>
      <DimensionID>Date Dim</DimensionID>
      <Attributes>
        <Attribute dwd:design-time-name="6e4e1bc0-7169-43c6-87b8-7564a81ce0e7">
          <AttributeID>Date ID</AttributeID>
        </Attribute>
        <Attribute dwd:design-time-name="45b54f26-9099-45b3-ba95-cc36162f3b65">
          <AttributeID>Order Year</AttributeID>
        </Attribute>
        <Attribute dwd:design-time-name="eaf406a0-d2cf-4296-bb41-004e7ee319d0">
          <AttributeID>Order Month</AttributeID>
        </Attribute>
        <Attribute dwd:design-time-name="1062a621-5929-497e-9d41-aab12b6d4ed4">
          <AttributeID>Order Day</AttributeID>
        </Attribute>
        <Attribute dwd:design-time-name="91bf4215-b1b0-4ae8-b687-44e41a61eb71">
          <AttributeID>Order Quarter</AttributeID>
        </Attribute>
      </Attributes>
      <Hierarchies>
        <Hierarchy dwd:design-time-name="16a39a18-c3a5-4a6a-8916-e31c58b35109">
          <HierarchyID>Hierarchy</HierarchyID>
        </Hierarchy>
      </Hierarchies>
    </Dimension>
    <Dimension dwd:design-time-name="a0c276b8-ca75-42fe-8a69-f711610867e2">
      <ID>CustomerSegmentDim</ID>
      <Name>CustomerSegmentDim</Name>
      <DimensionID>CustomerSegmentDim</DimensionID>
      <Attributes>
        <Attribute dwd:design-time-name="2b1ac066-29b2-4e8d-81cd-92edfbc12fdf">
          <AttributeID>ID</AttributeID>
        </Attribute>
        <Attribute dwd:design-time-name="1a1fdd62-dd69-4ed1-a769-c4ae255fe33e">
          <AttributeID>Segment</AttributeID>
        </Attribute>
      </Attributes>
      <Hierarchies>
        <Hierarchy dwd:design-time-name="02e0a2e7-c08c-4b57-9bc4-ddb6cef502b5">
          <HierarchyID>Hierarchy</HierarchyID>
        </Hierarchy>
      </Hierarchies>
    </Dimension>
  </Dimensions>
  <MeasureGroups>
    <MeasureGroup dwd:design-time-name="11308498-3581-4fb0-9a97-868534e6dfe8">
      <ID>Sales By Date Fact</ID>
      <Name>Sales By Date Fact</Name>
      <CreatedTimestamp>0001-01-01T00:00:00Z</CreatedTimestamp>
      <LastSchemaUpdate>0001-01-01T00:00:00Z</LastSchemaUpdate>
      <LastProcessed>0001-01-01T00:00:00Z</LastProcessed>
      <State>Unprocessed</State>
      <Measures>
        <Measure dwd:design-time-name="4bcff497-e46c-4d3a-b416-bf749a536c14">
          <ID>Total Cost</ID>
          <Name>Total Cost</Name>
          <Source dwd:design-time-name="2ed7118c-bac4-4481-ac08-805aabd29e06">
            <DataType>Double</DataType>
            <Source xsi:type="ColumnBinding" dwd:design-time-name="74538945-522a-4f68-9895-76593ac90db7">
              <TableID>SalesByDateFact</TableID>
              <ColumnID>total_cost</ColumnID>
            </Source>
          </Source>
        </Measure>
        <Measure dwd:design-time-name="0b98cb2d-1389-4a56-8988-e247cba083e9">
          <ID>Items Number</ID>
          <Name>Items Number</Name>
          <Source dwd:design-time-name="2b4a7a97-2566-4f91-9494-d125a887e898">
            <DataType>Integer</DataType>
            <Source xsi:type="ColumnBinding" dwd:design-time-name="e7818c2e-fa8b-4527-90c0-554d14d1a172">
              <TableID>SalesByDateFact</TableID>
              <ColumnID>items_number</ColumnID>
            </Source>
          </Source>
        </Measure>
      </Measures>
      <StorageMode>Molap</StorageMode>
      <ProcessingMode>Regular</ProcessingMode>
      <Dimensions>
        <Dimension xsi:type="RegularMeasureGroupDimension" dwd:design-time-name="25d356e1-b22c-4395-a1c8-a9ad871503f1">
          <CubeDimensionID>Date Dim</CubeDimensionID>
          <Attributes>
            <Attribute dwd:design-time-name="843fe38e-c858-43b6-a83a-26ca81e7e691">
              <AttributeID>Date ID</AttributeID>
              <KeyColumns>
                <KeyColumn dwd:design-time-name="f9dddbff-8e9e-4e70-a0b3-4856328dba60">
                  <DataType>Integer</DataType>
                  <NullProcessing>UnknownMember</NullProcessing>
                  <Source xsi:type="ColumnBinding" dwd:design-time-name="5d9de260-699e-4510-8215-c2e43376502c">
                    <TableID>SalesByDateFact</TableID>
                    <ColumnID>FK_DateID</ColumnID>
                  </Source>
                </KeyColumn>
              </KeyColumns>
              <Type>Granularity</Type>
            </Attribute>
          </Attributes>
        </Dimension>
        <Dimension xsi:type="RegularMeasureGroupDimension" dwd:design-time-name="4bdd9aa5-5f16-44aa-b413-11cf1427ad81">
          <CubeDimensionID>CustomerSegmentDim</CubeDimensionID>
          <Attributes>
            <Attribute dwd:design-time-name="da428438-8c9b-41c3-9b75-fa01e3f717e3">
              <AttributeID>ID</AttributeID>
              <KeyColumns>
                <KeyColumn dwd:design-time-name="42c67dd3-08c0-4a5d-97c8-73487e9f1d25">
                  <DataType>Integer</DataType>
                  <NullProcessing>UnknownMember</NullProcessing>
                  <Source xsi:type="ColumnBinding" dwd:design-time-name="cf765e4d-7b2a-4286-ad26-df3f06dcf54d">
                    <TableID>SalesByDateFact</TableID>
                    <ColumnID>FK_Customer</ColumnID>
                  </Source>
                </KeyColumn>
              </KeyColumns>
              <Type>Granularity</Type>
            </Attribute>
          </Attributes>
        </Dimension>
      </Dimensions>
      <Partitions />
    </MeasureGroup>
  </MeasureGroups>
  <Source dwd:design-time-name="1d25cad1-c4e1-451d-8b11-5fdc71291318">
    <DataSourceViewID>DW 12938</DataSourceViewID>
  </Source>
  <MdxScripts>
    <MdxScript dwd:design-time-name="4180efc4-4ffd-438c-b2c0-c94f3fa8c2d4">
      <ID>MdxScript</ID>
      <Name>MdxScript</Name>
      <CreatedTimestamp>0001-01-01T00:00:00Z</CreatedTimestamp>
      <LastSchemaUpdate>0001-01-01T00:00:00Z</LastSchemaUpdate>
      <Commands>
        <Command>
          <Text>/*
The CALCULATE command controls the aggregation of leaf cells in the cube.
If the CALCULATE command is deleted or modified, the data within the cube is affected.
You should edit this command only if you manually specify how the cube is aggregated.
*/
CALCULATE; 
CREATE MEMBER CURRENTCUBE.[Measures].RevenuesShareByCategory
 AS (
    [Measures].[Total Cost], 
    [CustomerSegmentDim].[Segment].CurrentMember
) 
/ 
(
    SUM(
        [CustomerSegmentDim].[Segment].Segment, 
        [Measures].[Total Cost]
    )
) 
* 100, 
VISIBLE = 1  ; </Text>
        </Command>
      </Commands>
    </MdxScript>
  </MdxScripts>
  <Kpis>
    <Kpi dwd:design-time-name="192f17cf-582d-45b8-ba98-3c621f089f9d">
      <ID>KPI</ID>
      <Name>SegmentGrowthOverTimeKPI</Name>
      <Value>(
    ([Measures].[Total Cost], [CustomerSegmentDim].[Segment].CurrentMember, [Date Dim].[Order Year].CurrentMember)
    - 
    ([Measures].[Total Cost], [CustomerSegmentDim].[Segment].CurrentMember, [Date Dim].[Order Year].CurrentMember.PrevMember)
)
/
(
    [Measures].[Total Cost], [CustomerSegmentDim].[Segment].CurrentMember, [Date Dim].[Order Year].CurrentMember.PrevMember
)
* 100</Value>
      <Goal>0.01</Goal>
      <Status>CASE  
  WHEN KpiValue("SegmentGrowthOverTimeKPI") &gt; KpiGoal("SegmentGrowthOverTimeKPI")   
    THEN 1  
  WHEN KpiValue("SegmentGrowthOverTimeKPI") &lt;= KpiGoal("SegmentGrowthOverTimeKPI") AND KpiValue("SegmentGrowthOverTimeKPI") &gt; 0 
     THEN 0  
  ELSE -1  
END</Status>
      <TrendGraphic>Standard Arrow</TrendGraphic>
      <StatusGraphic>Road Signs</StatusGraphic>
    </Kpi>
  </Kpis>
</Cube>